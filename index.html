<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>ScrapStats</title>

		<!-- Bootstrap -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <script type="text/javascript" src="//use.typekit.net/uod8xfw.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

	</head>
	<body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-offset-2 col-md-8 pad-top">
          <div class="row">
            <div class="col-md-6 col-sm-6 clearfix hidden-xs">
              <img id="plate" src="/graphics/chart.png">
            </div>
            <div class="col-md-6 col-sm-6">
              <div class="intro">
                <h1>Scrap Stats</h1>
                <p class="lead">Food waste is simple. We throw away about half of what we create.</p>
              </div>
            </div>
          </div>
          <h4 class="text-center pad-top">Tap the icons below to see how you can improve your food choices by category.</h4>
          <ul class="icons clearfix">
            <li id="fruit">Fruits</li>
            <li id="veg">Vegetables</li>
            <li id="grain">Grains</li>
            <li id="meat">Meat</li>
            <li id="milk">Dairy</li>
          </ul>
          <!-- This is where the d3 function lives -->
          <div class="house">
            <div id="vis-container"></div>
          </div>
      </div>
      <div class='row'>
        <div class="col-md-offset-2 col-md-8">
          <div class='row'>
		      <div class="attach-table clearfix"></div>
          </div>
        </div>
      </div>
            <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
            <script type="text/javascript" src="js/d3.min.js"></script>
          <footer>
            <p class="text-center">Items listed are displayed by percentage of produced food item that ends as waste.</p>
            <p class="small text-center"><a href="faq.html">Why we built ScrapStats</a>&nbsp;&nbsp;&#10084;&nbsp;&nbsp;<a href="team.html">Meet the team</a></p>
          </footer>
        </div>
      </div>
    </div>

    <!-- triggers to draw -->
    <script>

	    var table = $(".attach-table");

		var d;

		$.getJSON("foodtable.json", function(data) {
			d = data;
		});


      $("#fruit").click(function(){
		table.html(function() {
			var text = "<div class='col-md-offset-1 col-md-10'>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.fruit[0].name + "</h2>" +
			"<h3>" + Math.floor(d.fruit[0].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.fruit[1].name + "</h2>" +
			"<h3>" + Math.floor(d.fruit[1].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.fruit[3].name + "</h2>" +
			"<h3>" + Math.floor(d.fruit[3].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.fruit[4].name + "</h2>" +
			"<h3>" + Math.floor(d.fruit[4].total_loss) + "%</h3>" +
			"</div>" +
			"</div>";
			return text
		});
      });
      $("#grain").click(function(){
		table.html(function() {
			var text = "<div class='col-md-offset-1 col-md-10'>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.grain[0].name + "</h2>" +
			"<h3>" + Math.floor(d.grain[0].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.grain[1].name + "</h2>" +
			"<h3>" + Math.floor(d.grain[1].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.grain[2].name + "</h2>" +
			"<h3>" + Math.floor(d.grain[2].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.grain[4].name + "</h2>" +
			"<h3>" + Math.floor(d.grain[4].total_loss) + "%</h3>" +
			"</div>" +
			"</div>";
			return text
		});
      });
      $("#meat").click(function(){
		table.html(function() {
			var text = "<div class='col-md-offset-1 col-md-10'>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.meat[0].name + "</h2>" +
			"<h3>" + Math.floor(d.meat[0].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.meat[1].name + "</h2>" +
			"<h3>" + Math.floor(d.meat[1].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.meat[3].name + "</h2>" +
			"<h3>" + Math.floor(d.meat[3].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.meat[4].name + "</h2>" +
			"<h3>" + Math.floor(d.meat[4].total_loss) + "%</h3>" +
			"</div>" +
			"</div>";
			return text
		});
      });
      $("#milk").click(function(){
		table.html(function() {
			var text = "<div class='col-md-offset-1 col-md-10'>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.milk[0].name + "</h2>" +
			"<h3>" + Math.floor(d.milk[0].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.milk[1].name + "</h2>" +
			"<h3>" + Math.floor(d.milk[1].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.milk[3].name + "</h2>" +
			"<h3>" + Math.floor(d.milk[3].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.milk[4].name + "</h2>" +
			"<h3>" + Math.floor(d.milk[4].total_loss) + "%</h3>" +
			"</div>" +
			"</div>";
			return text
		});
      });
      $("#veg").click(function(){
		table.html(function() {
			var text = "<div class='col-md-offset-1 col-md-10'>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.veg[0].name + "</h2>" +
			"<h3>" + Math.floor(d.veg[0].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.veg[1].name + "</h2>" +
			"<h3>" + Math.floor(d.veg[1].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.veg[2].name + "</h2>" +
			"<h3>" + Math.floor(d.veg[2].total_loss) + "%</h3>" +
			"</div>" +
			"<div class='col-md-3'>" +
			"<h2>" + d.veg[3].name + "</h2>" +
			"<h3>" + Math.floor(d.veg[3].total_loss) + "%</h3>" +
			"</div>" +
			"</div>";
			return text
		});
      });


    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	</body>
</html>
